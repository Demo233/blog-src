---
title: DAG
date: 2020-12-01 18:40:25
categories: 算法与数据结构
tags: 图
---

这里讨论一下有向图怎么判断有没有环。

### DAG介绍

DAG中文名叫有向无环图，他描述了整个连通图中不能带有环的子图，只要有环，就不能称为有向无环图。那我们在插入顶点时，怎么判断是否会出现环？

### 代码实现

拓扑排序该算法与1972年在设计编译器时被发明出来，当时被用到编译器上编译代码使用。因为代码都是有顺序的，例如：C代码文件依赖B代码文件，B依赖A，B依赖D，那在编译时就不能先编译B，得将A和D先编译完了，才能编译B。所以编译的顺序要么是[A,D,B,C]，要么是[D,A,B,C]。拓扑排序可以将图转为顺序表，挨个打印这个表，就是正确的顺序了。

> Tips: 如果图是带环的，那么转化出来的顺序表与图的顶点个数不相等，利用这个特性就能判断图有没有带环。

下面简单kahn算法的实现思路:

* 初始化图顶点的入度
* 将入度为0的顶点放到辅助队列T
* 当T不为空，就取出队列的顶点
* 将其输出到拓扑排序的结果队列R中（对应代码中就是把它打印出来），并且把这个 顶点从图中删除（也就是把这个顶点可达的顶点的⼊度都减1）

下面实现拓扑排序（有向图是用邻接表的方式存储）：


```java


```



